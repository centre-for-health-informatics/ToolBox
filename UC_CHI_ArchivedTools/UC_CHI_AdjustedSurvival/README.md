# Adjusted_survival

# Adjusted survival analysis program

The following abstract was published in the journal Medical Decision Making (1998;18:490) and compares two statistical methods for calculating and plotting adjusted survival curves from Cox Proportional Hazards Models.

Abstract

Context: Adjusted survival curves are often presented in medical research articles. The most commonly used method for calculating such curves is the mean of covariates method, in which average values of covariates are entered into a proportional hazards regression equation. Use of this method is widespread despite published concerns regarding the validity of resulting curves.

Objective: To compare the mean of covariates method to the less widely used corrected group prognosis method in an analysis evaluating survival in patients with and without diabetes. In the latter method, a survival curve is calculated for each level of covariates, after which an average survival curve is calculated as a weighted average of the survival curves for each level of covariates.

Design, Setting, and Patients: Analysis of cohort study data from 11,468 Alberta residents undergoing cardiac catheterization between January 1, 1995, and December 31, 1996.

Main Outcome Measures: Crude and risk-adjusted survival for up to 3 years after cardiac catheterization in patients with vs without diabetes, analyzed by the mean of covariates method vs the corrected group prognosis method.

Results: According to the mean of covariates method, adjusted survival at 1044 days was 94.1% and 94.9% for patients with and without diabetes, respectively, with misleading adjusted survival curves that fell above the unadjusted curves. With the cor- rected group prognosis method, the corresponding survival values were 91.3% and 92.4%, with curves that fell more appropriately between the unadjusted curves.

Conclusions: Misleading adjusted survival curves resulted from using the mean of covariates method of analysis for our data. We recommend using the corrected group prognosis method for calculating risk-adjusted curves.


# Data and code description

APPROACH is a large inception cohort study which captures all patients undergoing cardiac catheterization in Alberta, Canada. We used data on 11,804 patients from this study to examine the two year survival experience of diabetics vs. non-diabetics, while controlling for covariates such as left ventricular ejection fraction, coronary anatomy, sociodemographic variables, and comorbidities. Here, we present a comparison of two methods for calculating covariate-adjusted survival curves.

The most commonly-used method for generating such curves is the “average covariate method”, in which the average values of covariates of interest are entered into a proportional hazards regression equation to generate adjusted survival estimates. We used data from the APPROACH study to compare the survival curves generated by the “average covariate method” with those generated by a newer method – the “corrected group prognosis method” – in which a survival curve for each level of covariates is calculated, after which an average survival curve is calculated as a weighted average of the individual survival curves. The resulting adjusted survival curves are shown below, along with the corresponding unadjusted survival curves for diabetics and non-diabetics.

For these data, the commonly-used “average covariate method” yields misleading adjusted survival curves which do not fall between the unadjusted curves for diabetics and non-diabetics. Investigators should be cautious when using the “average covariate method”, and should consider the “corrected group prognosis method” if resulting adjusted survival curves fail to fall between the unadjusted curves.

The four code files which can be saved to your PC to experiment with the use of these two statistical methods:

# Data set SAS program
“sample.sas” – a SAS program which creates a SAS data file for use as an example dataset to which the following SAS programs can be applied. The dataset contains 5,000 observations

# Survival SAS program
1. “mean.sas” – a SAS program which calculates and plots unadjusted and adjusted survival curves. The adjusted curves are calculated using the Mean of Covariates Method.

2. “weight.sas” – a SAS program which calculates and plots unadjusted and adjusted survival curves. The adjusted curves are calculated using the Corrected Group Prognosis Method.


The programs and sample dataset should be easy to use for individuals who are familiar with SAS programming. The programs can easily be modified for use with other datasets. We have provided comment statements with the SAS programs which should facilitate the modification of the programs for use with other data.

See alse R versions in this repository.

S-Plus can be found here: https://www.stat.ubc.ca/~rollin/stats/S/
